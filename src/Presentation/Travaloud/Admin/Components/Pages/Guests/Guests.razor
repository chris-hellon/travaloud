@page "/guests"
@using Travaloud.Application.Identity.Users

@attribute [MustHavePermission(TravaloudAction.View, TravaloudResource.Guests)]

@inject IStringLocalizer<Guests> L

<TravaloudPageTitle Title="@L["Guests"]" Description="@L["Manage Guests"]" />

<EntityTable TEntity="UserDetailsDto" TId="string" TRequest="UpdateUserRequest" Context="@Context">
    <EditFormContent>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.FirstName)" @bind-Value="context.FirstName" Label="@L["First Name"]" Required="true"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.LastName)" @bind-Value="context.LastName" Label="@L["Last Name"]" Required="true"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudDatePicker For="@(() => context.DateOfBirth)" @bind-Date="context.DateOfBirth" Culture="@_culture" TitleDateFormat="dd, MM yyyy" Label="@L["Date Of Birth"]"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.Email)" InputType="InputType.Email" @bind-Value="context.Email" Label="@L["Email"]" Required="true"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.PhoneNumber)" @bind-Value="context.PhoneNumber" Label="@L["Phone Number"]"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.Address)" @bind-Value="context.Address" Label="@L["Address"]" Required="false"></MudTextField>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.City)" @bind-Value="context.City" Label="@L["City"]" Required="false"></MudTextField>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.ZipPostalCode)" @bind-Value="context.ZipPostalCode" Label="@L["Zip/Postal Code"]" Required="false"></MudTextField>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudAutocomplete T="string" MaxItems="null" Label="@L["Nationality"]" For="@(() => context.Nationality)" @bind-Value="context.Nationality" SearchFunc="@SearchNationalities" AnchorOrigin="Origin.BottomCenter" Required="false"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudSelect For="@(() => context.Gender)" @bind-Value="context.Gender" Label="@L["Gender"]" AnchorOrigin="Origin.BottomCenter" Clearable="true" Required="false">
                <MudSelectItem Value="@("Male")"/>
                <MudSelectItem Value="@("Female")"/>
                <MudSelectItem Value="@("N/A")"/>
            </MudSelect>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudTextField For="@(() => context.PassportNumber)" @bind-Value="context.PassportNumber" Label="@L["Passport Number"]" Required="false"></MudTextField>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudAutocomplete T="string" Label="@L["Passport Issuing Country"]" For="@(() => context.PassportIssuingCountry)" @bind-Value="context.PassportIssuingCountry" SearchFunc="@SearchNationalities" AnchorOrigin="Origin.BottomCenter" Required="false"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudDatePicker For="@(() => context.PassportIssueDate)" @bind-Date="context.PassportIssueDate" Culture="@_culture" TitleDateFormat="dd, MM yyyy" Label="@L["Passport Issue Date"]" Required="false"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudDatePicker For="@(() => context.PassportExpiryDate)" @bind-Date="context.PassportExpiryDate" Culture="@_culture" TitleDateFormat="dd, MM yyyy" Label="@L["Passport Expiry Date"]" Required="false"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudDatePicker For="@(() => context.VisaIssueDate)" @bind-Date="context.VisaIssueDate" Culture="@_culture" TitleDateFormat="dd, MM yyyy" Label="@L["Visa Issue Date"]" Required="false"/>
        </MudItem>
        <MudItem xs="12" md="6">
            <MudDatePicker For="@(() => context.VisaExpiryDate)" @bind-Date="context.VisaExpiryDate" Culture="@_culture" TitleDateFormat="dd, MM yyyy" Label="@L["Visa Expiry Date"]" Required="false"/>
        </MudItem>
    </EditFormContent>
</EntityTable>
